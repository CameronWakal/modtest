<div class="patch-connections">
  <button {{action 'addModule' 'clock'}}>+Clock</button><button {{action 'addModule' 'out'}}>+Out</button><button {{action 'addModule' 'sequence'}}>+Sequence</button>
  <p>Source: {{sourceModule.type}} {{sourcePort.label}}</p>
  <p>Dest: {{destModule.type}} {{destPort.label}}</p>
  <button {{action 'addConnection' sourcePort destPort}}>Connect</button>
</div>

{{patch-diagram 
  patch=patch 
  needsUpdate=diagramNeedsUpdate 
  needsDraw=diagramNeedsDraw 
  shouldDrawNewConnection=diagramShouldDrawNewConnection 
  didUpdate=(action 'diagramDidUpdate')
  didDraw=(action 'diagramDidDraw')
  connectingPosX=eventManager.connectingPosX 
  connectingPosY=eventManager.connectingPosY 
}}

<div class="modules" id="modules">
  {{#each patch.modules as |module|}}{{component  module.constructor.modelName
                                                  module=module 
                                                  selectPort=(action 'selectModulePort' module) 
                                                  remove=(action 'removeModule' module) 
                                                  drawDiagram=(action 'drawDiagram') 
                                                  portStartedConnecting=(action 'portStartedConnecting' module)
                                                  portFinishedConnecting=(action 'portFinishedConnecting') 
                                                  startedMoving=(action 'moduleStartedMoving' module) 
                                                  finishedMoving=(action 'moduleFinishedMoving')
        }}{{/each}}
</div>